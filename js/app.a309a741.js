(function(t){function e(e){for(var o,i,n=e[0],l=e[1],c=e[2],d=0,f=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],o=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=s[0]))}return t}var o={},r={app:0},a=[];function i(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=o,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/TestPosts/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0078":function(t,e,s){},"15e3":function(t,e,s){"use strict";s("e418")},"1d58":function(t,e,s){"use strict";s("7ac2")},"27f5":function(t,e,s){},"3ea8":function(t,e,s){"use strict";s("93d9")},"40ea":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("c1c3");var o=s("2b0e"),r=s("2f62"),a={posts:[]},i={POSTS:function(t){return t.posts}},n={SET_POSTS:function(t,e){t.posts=e}},l={GET_POSTS:function(t){if(localStorage.getItem("posts"))return t.commit("SET_POSTS",JSON.parse(localStorage.getItem("posts")));t.commit("SET_POSTS",[])}},c={state:a,getters:i,mutations:n,actions:l};o["a"].use(r["a"]);var u=new r["a"].Store({modules:{posts:c}}),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},f=[],m={name:"App"},p=m,g=(s("dff5"),s("2877")),h=Object(g["a"])(p,d,f,!1,null,"45098026",null),v=h.exports,y=s("8c4f"),P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showModal?s("Modal",{attrs:{currentEditPost:t.currentEditPost},on:{closeModal:t.closeModal,postSaved:t.getPosts}}):t._e(),s("div",{staticClass:"button-container"},[s("AddButton",{on:{openModal:function(e){t.showModal=!0}}})],1),s("div",{staticClass:"wrapper"},[s("div",[s("FilterPosts",{on:{searchByTag:t.filterBy}}),s("CategoriesSelect",{attrs:{categories:t.categories},on:{selectCategory:t.redirectToCategoryPage}}),s("ul",{staticClass:"list"},t._l(t.currentPosts,(function(e){return s("Post",{key:e.id,staticClass:"list-item",attrs:{item:e},on:{editPost:t.editPost,deletePost:t.deletePost}})})),1)],1)])],1)},b=[],S=s("53ca"),_=s("2909"),O=s("5530"),C=(s("4de4"),s("caad"),s("2532"),s("7db0"),s("159b"),s("d3b7"),s("6062"),s("3ca3"),s("ddb0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post-item"},[s("div",{staticClass:"post-item-container"},[s("router-link",{attrs:{to:{path:"/"+this.item.id}}},[s("h3",{staticClass:"post-item-title"},[t._v(t._s(t.item.title))]),s("p",{staticClass:"post-item-text"},[t._v(t._s(t.item.text))]),s("ul",{staticClass:"post-item-tags"},t._l(t.item.tags,(function(e){return s("li",{key:e.id,staticClass:"post-item-tags_item"},[s("p",[t._v(t._s(e.text))])])})),0),s("p",{staticClass:"post-item-category"},[t._v("Category: "+t._s(t.item.category))])]),s("div",{staticClass:"post-item-buttons-container"},[s("button",{staticClass:"post-item-buttons-container-button edit",on:{click:t.editPost}},[t._v("Edit")]),s("button",{staticClass:"post-item-buttons-container-button delete",on:{click:t.deletePost}},[t._v("Delete")])])],1)])}),x=[],T={name:"Post",props:{item:{required:!0}},data:function(){return{}},methods:{editPost:function(){this.$emit("editPost",this.item.id)},deletePost:function(){this.$emit("deletePost",this.item.id)}}},E=T,M=(s("1d58"),Object(g["a"])(E,C,x,!1,null,"b7c1ad48",null)),j=M.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"filter"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"filter-input",attrs:{type:"text",placeholder:"Search posts"},domProps:{value:t.searchText},on:{keyup:t.searchByTag,input:function(e){e.target.composing||(t.searchText=e.target.value)}}})])},w=[],k={name:"FilterSearch",data:function(){return{searchText:null,debounce:null}},methods:{searchByTag:function(){var t=this;clearTimeout(this.debounce),this.debounce=setTimeout((function(){t.$emit("searchByTag",t.searchText)}),300)}}},B=k,N=(s("15e3"),Object(g["a"])(B,$,w,!1,null,"1a08bafc",null)),I=N.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"add-post-button",attrs:{type:"button"},on:{click:t.handleOpenModal}})},A=[],J={name:"AddPost",methods:{handleOpenModal:function(){this.$emit("openModal")}}},Q=J,F=(s("9f59"),Object(g["a"])(Q,q,A,!1,null,"6c6c425e",null)),G=F.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"modal",staticClass:"modal",on:{click:function(e){return t.closeModalByOverlay(e)}}},[s("Form",{attrs:{isCategoryPage:t.isCategoryPage,currentEditPost:t.currentEditPost},on:{closeModal:t.closeModal,postSaved:t.postSaved}})],1)},D=[],z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"modal-form",on:{submit:function(e){e.preventDefault(),t.isEditPost?t.editPost():t.savePost()}}},[s("button",{staticClass:"modal-close",attrs:{type:"button"},on:{click:t.handleCloseModal}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"modal-form_input",attrs:{type:"text",placeholder:"Enter title",required:""},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.text,expression:"form.text"}],staticClass:"modal-form_input",attrs:{type:"text",placeholder:"Enter text",required:""},domProps:{value:t.form.text},on:{input:function(e){e.target.composing||t.$set(t.form,"text",e.target.value)}}}),s("div",{staticClass:"modal-form-category-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tag,expression:"tag"}],staticClass:"modal-form_input",attrs:{type:"text",placeholder:"Enter tag"},domProps:{value:t.tag},on:{input:function(e){e.target.composing||(t.tag=e.target.value)}}}),s("button",{attrs:{type:"button"},on:{click:t.addTag}},[t._v("Add tag")])]),t.tags.length>0?s("ul",{staticClass:"modal-form-tags-list"},[s("p",{staticClass:"modal-form-tags-list_title"},[t._v("Tags list:")]),t._l(t.tags,(function(e){return s("li",{key:e.id,staticClass:"modal-form-tags-list_item"},[t._v(" "+t._s(e.text)+" "),s("div",{staticClass:"modal-form-tags-list_item-delete",on:{click:function(s){return t.deleteTag(e.id)}}})])}))],2):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.category,expression:"form.category"}],staticClass:"modal-form_input",attrs:{type:"text",placeholder:"Enter category",required:"",disabled:t.isCategoryPage},domProps:{value:t.form.category},on:{input:function(e){e.target.composing||t.$set(t.form,"category",e.target.value)}}}),s("button",{staticClass:"modal-form-save",attrs:{type:"submit"}},[t._v("Save post")])])},H=[],K=(s("d81d"),s("c50a")),R={name:"Form",props:{isCategoryPage:{required:!1,default:!1},currentEditPost:{required:!0,default:null}},data:function(){return{tag:null,tags:[],isEditPost:!1,form:{title:null,text:null,category:null,tags:[],id:Object(K["a"])()}}},mounted:function(){this.currentEditPost&&(this.isEditPost=!0,this.form=Object(O["a"])({},this.currentEditPost)),this.isCategoryPage&&!this.currentEditPost&&(this.form.category=this.$route.query.category),this.tags=Object(_["a"])(this.form.tags)},methods:{handleCloseModal:function(){this.$emit("closeModal")},addTag:function(){null!==this.tag&&(this.tags.push({text:this.tag,id:Object(K["a"])()}),this.tag=null)},deleteTag:function(t){this.tags=this.tags.filter((function(e){return e.id!==t}))},savePost:function(){if(this.form.tags=Object(_["a"])(this.tags),0!==this.form.tags.length){var t=JSON.parse(localStorage.getItem("posts"));null===t&&(t=[]),localStorage.setItem("posts",this.form),t.push(this.form),localStorage.setItem("posts",JSON.stringify(t)),this.form={title:null,text:null,category:null,tags:[]},this.$emit("closeModal"),this.$emit("postSaved")}},editPost:function(){var t=this;if(this.form.tags=Object(_["a"])(this.tags),0!==this.form.tags.length){var e=JSON.parse(localStorage.getItem("posts"));e=e.map((function(e){return e.id===t.form.id?Object(O["a"])({},t.form):e})),localStorage.setItem("posts",this.form),localStorage.setItem("posts",JSON.stringify(e)),this.form={title:null,text:null,category:null,tags:[]},this.$emit("closeModal"),this.$emit("postSaved")}}}},U=R,V=(s("c5b6"),Object(g["a"])(U,z,H,!1,null,"670fc6fe",null)),W=V.exports,X={name:"Modal",components:{Form:W},props:{isCategoryPage:{required:!1,default:!1},currentEditPost:{required:!0,default:null}},mounted:function(){var t=this;document.addEventListener("keydown",(function(e){"Escape"===e.key&&t.$emit("closeModal")}))},methods:{closeModal:function(){this.$emit("closeModal")},closeModalByOverlay:function(t){t.target===this.$refs.modal&&this.$emit("closeModal")},postSaved:function(){this.$emit("postSaved")}}},Y=X,Z=(s("baa5"),Object(g["a"])(Y,L,D,!1,null,"76723426",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategory,expression:"selectedCategory"}],staticClass:"select",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCategory=e.target.multiple?s:s[0]},t.selectCategory]}},[s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("Select category")]),t._l(t.categories,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)},st=[],ot={name:"CategoriesSelect",props:{categories:{required:!0,default:[]}},data:function(){return{selectedCategory:null}},methods:{selectCategory:function(){this.$emit("selectCategory",this.selectedCategory)}}},rt=ot,at=(s("3ea8"),Object(g["a"])(rt,et,st,!1,null,"23cac55a",null)),it=at.exports,nt={name:"PostsList",components:{Post:j,FilterPosts:I,AddButton:G,Modal:tt,CategoriesSelect:it},data:function(){return{filterPostsQuery:null,showModal:!1,currentEditPost:null}},computed:Object(O["a"])(Object(O["a"])({},Object(r["b"])(["POSTS"])),{},{currentPosts:function(){var t=this;return this.filterPostsQuery?Object(_["a"])(this.POSTS).filter((function(e){if(t.filterPostsQuery)for(var s in e){if("id"!==s&&"object"!==Object(S["a"])(e[s])&&null!==e[s]&&e[s].includes(t.filterPostsQuery))return e;if(Array.isArray(e[s])&&e[s].find((function(e){return e.text.includes(t.filterPostsQuery)})))return e}})):this.POSTS},categories:function(){var t=[];return this.POSTS.length>0?(this.POSTS.forEach((function(e){t.push(e.category)})),Object(_["a"])(new Set(t))):t}}),created:function(){this.getPosts()},methods:{filterBy:function(t){this.filterPostsQuery=t},closeModal:function(){this.currentEditPost=null,this.showModal=!1},editPost:function(t){this.currentEditPost=this.currentPosts.find((function(e){return e.id===t})),this.showModal=!0},getPosts:function(){this.$store.dispatch("GET_POSTS")},deletePost:function(t){var e=JSON.parse(localStorage.getItem("posts"));e=e.filter((function(e){return e.id!==t})),localStorage.setItem("posts",this.form),localStorage.setItem("posts",JSON.stringify(e)),this.getPosts()},redirectToCategoryPage:function(t){this.$router.push({path:"category",query:{category:t}})}}},lt=nt,ct=(s("5bb3"),Object(g["a"])(lt,P,b,!1,null,"73222ad2",null)),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showModal?s("Modal",{attrs:{isCategoryPage:!0,currentEditPost:t.currentEditPost},on:{closeModal:t.closeModal,postSaved:t.getPosts}}):t._e(),s("div",{staticClass:"button-container"},[s("AddButton",{on:{openModal:function(e){t.showModal=!0}}})],1),s("div",{staticClass:"wrapper"},[s("div",[s("FilterPosts",{on:{searchByTag:t.filterBy}}),s("ul",{staticClass:"list"},t._l(t.currentPosts,(function(e){return s("Post",{key:e.id,staticClass:"list-item",attrs:{item:e},on:{editPost:t.editPost,deletePost:t.deletePost}})})),1)],1)])],1)},ft=[],mt={name:"PostsListFilteredByCategory",components:{Post:j,FilterPosts:I,AddButton:G,Modal:tt},data:function(){return{filterPostsQuery:null,showModal:!1,category:null,currentEditPost:null}},computed:Object(O["a"])(Object(O["a"])({},Object(r["b"])(["POSTS"])),{},{currentPosts:function(){var t=this;return this.filterPostsQuery?Object(_["a"])(this.POSTS).filter((function(e){if(t.filterPostsQuery&&e.category===t.category)for(var s in e){if("id"!==s&&"object"!==Object(S["a"])(e[s])&&null!==e[s]&&e[s].includes(t.filterPostsQuery))return e;if(Array.isArray(e[s])&&e[s].find((function(e){return e.text.includes(t.filterPostsQuery)})))return e}})):Object(_["a"])(this.POSTS).filter((function(e){return e.category===t.category}))}}),created:function(){this.category=this.$route.query.category,this.getPosts()},methods:{filterBy:function(t){this.filterPostsQuery=t},closeModal:function(){this.currentEditPost=null,this.showModal=!1},editPost:function(t){this.currentEditPost=this.currentPosts.find((function(e){return e.id===t})),this.showModal=!0},getPosts:function(){this.$store.dispatch("GET_POSTS")},deletePost:function(t){var e=JSON.parse(localStorage.getItem("posts"));e=e.filter((function(e){return e.id!==t})),localStorage.setItem("posts",this.form),localStorage.setItem("posts",JSON.stringify(e)),this.getPosts()}}},pt=mt,gt=(s("5f78"),Object(g["a"])(pt,dt,ft,!1,null,"397c5ce8",null)),ht=gt.exports,vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post-item"},[s("h3",{staticClass:"post-item-title"},[t._v("Title: "+t._s(t.post.title))]),s("p",{staticClass:"post-item-text"},[t._v("Text: "+t._s(t.post.text))]),s("ul",{staticClass:"post-item-tags"},t._l(t.post.tags,(function(e){return s("li",{key:e.id,staticClass:"post-item-tags_item"},[s("p",[t._v(t._s(e.text))])])})),0),s("p",{staticClass:"post-item-category"},[t._v("Category: "+t._s(t.post.category))])])},yt=[],Pt={name:"PostPage",data:function(){return{post:null}},created:function(){var t=this;this.post=JSON.parse(localStorage.getItem("posts")).find((function(e){return e.id===t.$route.params.id}))},methods:{}},bt=Pt,St=(s("e602"),Object(g["a"])(bt,vt,yt,!1,null,"424103a8",null)),_t=St.exports;o["a"].use(y["a"]);var Ot=[{path:"/",component:ut},{path:"/category",component:ht},{path:"/:id",component:_t}],Ct=new y["a"]({routes:Ot});o["a"].component("main-template",v),new o["a"]({router:Ct,store:u,render:function(t){return t(v)}}).$mount("#app")},"5bb3":function(t,e,s){"use strict";s("9a3c")},"5f78":function(t,e,s){"use strict";s("40ea")},"7ac2":function(t,e,s){},"7ece":function(t,e,s){},"7ff7":function(t,e,s){},"93d9":function(t,e,s){},"9a3c":function(t,e,s){},"9f59":function(t,e,s){"use strict";s("0078")},a492:function(t,e,s){},baa5:function(t,e,s){"use strict";s("7ece")},c1c3:function(t,e,s){},c5b6:function(t,e,s){"use strict";s("a492")},dff5:function(t,e,s){"use strict";s("7ff7")},e418:function(t,e,s){},e602:function(t,e,s){"use strict";s("27f5")}});
//# sourceMappingURL=app.a309a741.js.map